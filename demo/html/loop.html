<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
</head>

<body>
  <div id="app"></div>
</body>
<script>
  const cur_routes = [
    {
      name: "1",
      value: "1",
      children: [
        {
          name: "1-1",
          value: "1-1",
          children: [
            {
              name: "1-1-1",
              value: "1-1-1",
              children: [
                {
                  name: "1-1-1-1",
                  value: "1-1-1-1",
                  children: [],
                },
                {
                  name: "1-1-1-2",
                  value: "1-1-1-2",
                  children: [],
                },
                {
                  name: "1-1-1-3",
                  value: "1-1-1-3",
                  children: [],
                },
              ],
            },
            {
              name: "1-2-1",
              value: "1-2-1",
              children: [
                {
                  name: "1-2-1-1",
                  value: "1-2-1-1",
                  children: [],
                },
                {
                  name: "1-2-1-2",
                  value: "1-2-1-2",
                  children: [],
                },
                {
                  name: "1-2-1-3",
                  value: "1-2-1-3",
                  children: [],
                },
              ],
            },
          ],
        },
      ],
    },
    {
      name: "2",
      value: "2",
      children: [
        {
          name: "2-1",
          value: "2-1",
          children: [
            {
              name: "2-1-1",
              value: "2-1-1",
              children: [
                {
                  name: "2-1-1-1",
                  value: "2-1-1-1",
                  children: [],
                },
                {
                  name: "2-1-1-2",
                  value: "2-1-1-2",
                  children: [],
                },
              ],
            },
            {
              name: "2-2-1",
              value: "2-2-1",
              children: [
                {
                  name: "2-2-1-1",
                  value: "2-2-1-1",
                  children: [],
                },
                {
                  name: "2-2-1-2",
                  value: "2-2-1-2",
                  children: [],
                },
              ],
            },
          ],
        },
      ],
    },
    {
      name: "3",
      value: "3",
      children: [
        {
          name: "3-1",
          value: "3-1",
          children: [
            {
              name: "3-1-1",
              value: "3-1-1",
              children: [
                {
                  name: "3-1-1-1",
                  value: "3-1-1-1",
                  children: [],
                },
                {
                  name: "3-1-1-2",
                  value: "3-1-1-2",
                  children: [],
                },
              ],
            },
            {
              name: "3-2-1",
              value: "3-2-1",
              children: [
                {
                  name: "3-2-1-1",
                  value: "3-2-1-1",
                  children: [],
                },
                {
                  name: "3-2-1-2",
                  value: "3-2-1-2",
                  children: [],
                },
              ],
            },
          ],
        },
      ],
    },
  ];
  const depth = (node, key = "children", nodelist = []) => {
    if (node != null) {
      nodelist.push(node);
      let children = node[key] || [];
      for (let i = 0; i < children.length; i++) {
        depth(children[i], key, nodelist);
      }
    }
    return nodelist;
  };
  const depth2 = (node, key = "children", nodelist = []) => {
    let stack = [];
    stack.push(...node);
    while (stack.length) {
      let item = stack.pop();
      let children = item[key] || [];
      nodelist.push(item);
      for (let i = children.length - 1; i >= 0; i--) {
        stack.push(children[i]);
      }
    }
    return nodelist;
  };
  const Breadth = (node, key = "children", nodelist = []) => {
    let stack = [];
    stack.push(node);
    while (stack.length) {
      let item = stack.shift();
      let children = item.children || [];
      nodelist.push(item);
      for (let i = 0; i < children.length; i++) {
        stack.push(children[i]);
      }
    }
    return nodelist;
  };
  // console.log(depth({ children: cur_routes }, "children"));
  // console.log(Breadth({ children: cur_routes }, "children"));
  console.log(depth2(cur_routes));
</script>

</html>